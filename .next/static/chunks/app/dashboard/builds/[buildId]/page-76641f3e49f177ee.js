(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[53],{1362:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(1847).A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},1847:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(2115);let a=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:d,className:c="",children:o,iconNode:u,...m}=e;return(0,s.createElement)("svg",{ref:t,...n,width:l,height:l,stroke:r,strokeWidth:d?24*Number(i)/Number(l):i,className:a("lucide",c),...m},[...u.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(o)?o:[o]])}),i=(e,t)=>{let r=(0,s.forwardRef)((r,n)=>{let{className:i,...d}=r;return(0,s.createElement)(l,{ref:n,iconNode:t,className:a("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),i),...d})});return r.displayName="".concat(e),r}},1848:(e,t,r)=>{Promise.resolve().then(r.bind(r,5270))},3209:(e,t,r)=>{"use strict";r.d(t,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>l,aR:()=>i,wL:()=>u});var s=r(5155),a=r(2115),n=r(5016);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border border-border bg-card text-card-foreground shadow-sm",r),...a})});l.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});i.displayName="CardHeader";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});d.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});c.displayName="CardDescription";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});o.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},3468:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(2115),a=r(5155);function n(e,t=[]){let r=[],l=()=>{let t=r.map(e=>s.createContext(e));return function(r){let a=r?.[e]||t;return s.useMemo(()=>({[`__scope${e}`]:{...r,[e]:a}}),[r,a])}};return l.scopeName=e,[function(t,n){let l=s.createContext(n);l.displayName=t+"Context";let i=r.length;r=[...r,n];let d=t=>{let{scope:r,children:n,...d}=t,c=r?.[e]?.[i]||l,o=s.useMemo(()=>d,Object.values(d));return(0,a.jsx)(c.Provider,{value:o,children:n})};return d.displayName=t+"Provider",[d,function(r,a){let d=a?.[e]?.[i]||l,c=s.useContext(d);if(c)return c;if(void 0!==n)return n;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=r.reduce((t,{useScope:r,scopeName:s})=>{let a=r(e)[`__scope${s}`];return{...t,...a}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}(l,...t)]}},5016:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(2821),a=r(5889);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},5104:(e,t,r)=>{"use strict";r.d(t,{F:()=>s});let s=r(5991).dp},5270:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var s=r(5155),a=r(7481),n=r(5104),l=r(2115),i=r(2619),d=r.n(i),c=r(7830),o=r(1362),u=r(8874),m=r(5921),x=r(6983);let f=(0,r(1847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var p=r(3209),h=r(7812),v=r(7003),g=r(8122),N=r(5850),j=r(5016);let b={done:{icon:o.A,className:"text-success"},failed:{icon:u.A,className:"text-destructive"},running:{icon:m.A,className:"text-info animate-pulse"},pending:{icon:x.A,className:"text-muted-foreground"},ready:{icon:x.A,className:"text-warning"},blocked:{icon:u.A,className:"text-muted-foreground"}};function y(e){var t;let{task:r}=e,a=null!=(t=b[r.status])?t:b.pending,n=a.icon;return(0,s.jsxs)("div",{className:"flex items-start gap-3 py-3",children:[(0,s.jsx)("div",{className:(0,j.cn)("mt-0.5 shrink-0",a.className),children:(0,s.jsx)(n,{className:"h-4 w-4"})}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,s.jsx)("span",{className:"text-sm font-medium",children:r.title}),(0,s.jsxs)(h.E,{variant:"outline",className:"h-4 px-1 text-[10px]",children:["Phase ",r.phase]}),(0,s.jsx)(h.E,{variant:"secondary",className:"h-4 px-1 text-[10px]",children:r.agent})]}),r.error&&(0,s.jsx)("p",{className:"mt-1 text-xs text-destructive",children:r.error}),r.output&&(0,s.jsx)("p",{className:"mt-1 text-xs text-muted-foreground line-clamp-2",children:r.output})]}),(0,s.jsx)("span",{className:"shrink-0 text-[10px] text-muted-foreground",children:(0,c.m)(new Date(r.createdAt),{addSuffix:!0})})]})}function w(e){let{params:t}=e,{buildId:r}=(0,l.use)(t),i=(0,a.IT)(n.F.dashboard.getBuild,{buildId:r});if(void 0===i)return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(g.E,{className:"h-8 w-48"}),(0,s.jsx)(g.E,{className:"h-32 w-full"}),(0,s.jsx)(g.E,{className:"h-64 w-full"})]});if(null===i)return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[(0,s.jsx)("p",{className:"text-lg font-medium",children:"Build not found"}),(0,s.jsx)(v.$,{variant:"link",asChild:!0,children:(0,s.jsx)(d(),{href:"/dashboard/builds",children:"Back to builds"})})]});let{build:o,tasks:u}=i,m=u.filter(e=>"done"===e.status).length,x=u.length>0?m/u.length*100:0,j=[...new Set(u.map(e=>e.phase))].sort((e,t)=>e-t);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(v.$,{variant:"ghost",size:"icon",asChild:!0,children:(0,s.jsx)(d(),{href:"/dashboard/builds",children:(0,s.jsx)(f,{className:"h-4 w-4"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-xl font-bold tracking-tight",children:o.prdName}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:o.prdId})]}),(0,s.jsx)(h.E,{variant:"completed"===o.status?"outline":"failed"===o.status?"destructive":"default",className:"ml-auto",children:o.status})]}),(0,s.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,s.jsxs)(p.Zp,{children:[(0,s.jsx)(p.aR,{className:"pb-2",children:(0,s.jsx)(p.BT,{children:"Started"})}),(0,s.jsx)(p.Wu,{children:(0,s.jsx)("p",{className:"text-sm font-medium",children:(0,c.m)(new Date(o.startedAt),{addSuffix:!0})})})]}),(0,s.jsxs)(p.Zp,{children:[(0,s.jsx)(p.aR,{className:"pb-2",children:(0,s.jsx)(p.BT,{children:"Tasks"})}),(0,s.jsx)(p.Wu,{children:(0,s.jsxs)("p",{className:"text-sm font-medium",children:[m," / ",u.length," done"]})})]}),(0,s.jsxs)(p.Zp,{children:[(0,s.jsx)(p.aR,{className:"pb-2",children:(0,s.jsx)(p.BT,{children:"Duration"})}),(0,s.jsx)(p.Wu,{children:(0,s.jsx)("p",{className:"text-sm font-medium",children:o.completedAt?"".concat(Math.round((new Date(o.completedAt).getTime()-new Date(o.startedAt).getTime())/1e3),"s"):"running"===o.status?"In progress":"â€”"})})]})]}),u.length>0&&(0,s.jsxs)(p.Zp,{children:[(0,s.jsx)(p.aR,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(p.ZB,{className:"text-sm",children:"Progress"}),(0,s.jsxs)("span",{className:"text-xs text-muted-foreground",children:[Math.round(x),"%"]})]})}),(0,s.jsx)(p.Wu,{children:(0,s.jsx)(N.k,{value:x})})]}),(0,s.jsxs)(p.Zp,{children:[(0,s.jsxs)(p.aR,{className:"pb-3",children:[(0,s.jsx)(p.ZB,{children:"Tasks"}),(0,s.jsxs)(p.BT,{children:[u.length," tasks across ",j.length," phases"]})]}),(0,s.jsx)(p.Wu,{children:0===u.length?(0,s.jsx)("p",{className:"py-6 text-center text-sm text-muted-foreground",children:"No tasks found."}):(0,s.jsx)("div",{className:"space-y-4",children:j.map(e=>{let t=u.filter(t=>t.phase===e);return(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"mb-2 text-xs font-semibold uppercase text-muted-foreground",children:["Phase ",e]}),(0,s.jsx)("div",{className:"divide-y divide-border rounded-lg border border-border px-2",children:t.map(e=>(0,s.jsx)(y,{task:e},e._id))})]},e)})})})]}),o.error&&(0,s.jsxs)(p.Zp,{className:"border-destructive",children:[(0,s.jsx)(p.aR,{className:"pb-3",children:(0,s.jsx)(p.ZB,{className:"text-destructive",children:"Error"})}),(0,s.jsx)(p.Wu,{children:(0,s.jsx)("pre",{className:"text-xs text-destructive",children:o.error})})]})]})}},5850:(e,t,r)=>{"use strict";r.d(t,{k:()=>i});var s=r(5155),a=r(2115),n=r(9484),l=r(5016);let i=a.forwardRef((e,t)=>{let{className:r,value:a,...i}=e;return(0,s.jsx)(n.bL,{ref:t,className:(0,l.cn)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",r),...i,children:(0,s.jsx)(n.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});i.displayName=n.bL.displayName},5921:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(1847).A)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},6983:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(1847).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7003:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var s=r(5155),a=r(2115),n=r(2467),l=r(3101),i=r(5016);let d=(0,l.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:r,variant:a,size:l,asChild:c=!1,...o}=e,u=c?n.DX:"button";return(0,s.jsx)(u,{className:(0,i.cn)(d({variant:a,size:l,className:r})),ref:t,...o})});c.displayName="Button"},7602:(e,t,r)=>{"use strict";r.d(t,{sG:()=>l});var s=r(2115);r(7650);var a=r(2467),n=r(5155),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,a.TL)(`Primitive.${t}`),l=s.forwardRef((e,s)=>{let{asChild:a,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(a?r:t,{...l,ref:s})});return l.displayName=`Primitive.${t}`,{...e,[t]:l}},{})},7812:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var s=r(5155);r(2115);var a=r(3101),n=r(5016);let l=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)(l({variant:r}),t),...a})}},8122:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});var s=r(5155),a=r(5016);function n(e){let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",t),...r})}},8874:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(1847).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},9484:(e,t,r)=>{"use strict";r.d(t,{C1:()=>b,bL:()=>j});var s=r(2115),a=r(3468),n=r(7602),l=r(5155),i="Progress",[d,c]=(0,a.A)(i),[o,u]=d(i),m=s.forwardRef((e,t)=>{var r,s,a,i;let{__scopeProgress:d,value:c=null,max:u,getValueLabel:m=p,...x}=e;(u||0===u)&&!g(u)&&console.error((r="".concat(u),s="Progress","Invalid prop `max` of value `".concat(r,"` supplied to `").concat(s,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let f=g(u)?u:100;null===c||N(c,f)||console.error((a="".concat(c),i="Progress","Invalid prop `value` of value `".concat(a,"` supplied to `").concat(i,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let j=N(c,f)?c:null,b=v(j)?m(j,f):void 0;return(0,l.jsx)(o,{scope:d,value:j,max:f,children:(0,l.jsx)(n.sG.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":v(j)?j:void 0,"aria-valuetext":b,role:"progressbar","data-state":h(j,f),"data-value":null!=j?j:void 0,"data-max":f,...x,ref:t})})});m.displayName=i;var x="ProgressIndicator",f=s.forwardRef((e,t)=>{var r;let{__scopeProgress:s,...a}=e,i=u(x,s);return(0,l.jsx)(n.sG.div,{"data-state":h(i.value,i.max),"data-value":null!=(r=i.value)?r:void 0,"data-max":i.max,...a,ref:t})});function p(e,t){return"".concat(Math.round(e/t*100),"%")}function h(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function v(e){return"number"==typeof e}function g(e){return v(e)&&!isNaN(e)&&e>0}function N(e,t){return v(e)&&!isNaN(e)&&e<=t&&e>=0}f.displayName=x;var j=m,b=f}},e=>{e.O(0,[707,481,619,44,441,255,358],()=>e(e.s=1848)),_N_E=e.O()}]);